<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="SAM.WinUI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SAM.WinUI"
    Title="Steam Achievement Manager">

    <Grid PointerPressed="RootGrid_PointerPressed"
          Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Custom Title Bar -->
        <Grid x:Name="AppTitleBar" 
              Height="48" 
              Background="Transparent">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <FontIcon Glyph="&#xE7FC;" 
                      FontSize="16"
                      Margin="16,0,8,0"
                      VerticalAlignment="Center"/>
            
            <TextBlock Grid.Column="1"
                       x:Name="AppTitleTextBlock"
                       Text="Steam Achievement Manager" 
                       Style="{StaticResource CaptionTextBlockStyle}"
                       VerticalAlignment="Center"/>
        </Grid>

        <!-- Main Navigation View -->
        <NavigationView x:Name="NavView"
                        Grid.Row="1"
                        PaneDisplayMode="Left"
                        IsBackButtonVisible="Auto"
                        IsSettingsVisible="True"
                        OpenPaneLength="160"
                        BackRequested="NavView_BackRequested"
                        SelectionChanged="NavView_SelectionChanged"
                        Loaded="NavView_Loaded">
            
            <NavigationView.MenuItems>
                <NavigationViewItem x:Name="NavGamesItem" Content="Spiele" Tag="games">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE8F1;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem x:Name="NavStatisticsItem" Content="Statistiken" Tag="statistics">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE9D9;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>

            <NavigationView.FooterMenuItems>
                <NavigationViewItem x:Name="NavDiagnosticsItem" Content="Diagnose" Tag="diagnostics">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE9D9;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem x:Name="NavAboutItem" Content="Info" Tag="about">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xE946;"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.FooterMenuItems>

            <!-- Content Frame -->
            <Frame x:Name="ContentFrame" Padding="24,24,24,24"/>
        </NavigationView>
    </Grid>
</Window>
