<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="SAM.Manager.Controls.NotificationBar"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SAM.Manager.Controls">

    <Grid x:Name="RootGrid" 
          Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
          BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
          BorderThickness="1"
          CornerRadius="8"
          Padding="16,12"
          Visibility="Collapsed"
          Opacity="0">
        <Grid.RenderTransform>
            <TranslateTransform x:Name="SlideTransform" Y="-20"/>
        </Grid.RenderTransform>
        
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        
        <!-- Icon -->
        <Border x:Name="IconBorder"
                Width="32" Height="32"
                CornerRadius="16"
                Margin="0,0,12,0"
                VerticalAlignment="Center">
            <FontIcon x:Name="StatusIcon" 
                      FontSize="16"
                      HorizontalAlignment="Center"
                      VerticalAlignment="Center"/>
        </Border>
        
        <!-- Message Content -->
        <StackPanel Grid.Column="1" VerticalAlignment="Center" Spacing="2">
            <TextBlock x:Name="TitleText"
                       Style="{StaticResource BodyStrongTextBlockStyle}"
                       TextTrimming="CharacterEllipsis"/>
            <TextBlock x:Name="MessageText"
                       Style="{StaticResource CaptionTextBlockStyle}"
                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                       TextWrapping="Wrap"
                       MaxLines="2"
                       Visibility="Collapsed"/>
        </StackPanel>
        
        <!-- Progress Ring (for async operations) -->
        <ProgressRing x:Name="ProgressIndicator"
                      Grid.Column="2"
                      Width="20" Height="20"
                      Margin="12,0"
                      IsActive="False"
                      Visibility="Collapsed"/>
        
        <!-- Close Button -->
        <Button x:Name="CloseButton"
                Grid.Column="3"
                Style="{StaticResource AlternateCloseButtonStyle}"
                Padding="4"
                Click="CloseButton_Click"
                Visibility="Collapsed">
            <FontIcon Glyph="&#xE711;" FontSize="12"/>
        </Button>
    </Grid>
</UserControl>
